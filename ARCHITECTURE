ğŸ“ SPEAKFLOW - ARCHITECTURE COMPLÃˆTE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŒŸ VUE D'ENSEMBLE
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SPEAKFLOW ARCHITECTURE                                 â”‚
â”‚                                                                                 â”‚
â”‚  ğŸ‘¥ Frontend (React + Vite)  â†â†’  ğŸ“¡ WebSocket/Socket.IO  â†â†’  ğŸ”§ Backend (Node.js) â”‚
â”‚                                                                                 â”‚
â”‚            â†“                                               â†“                   â”‚
â”‚     ğŸ“º LiveKit Client                                ğŸ¥ LiveKit Server          â”‚
â”‚                                                                                 â”‚
â”‚                              ğŸ—ƒï¸ Queue Management                                â”‚
â”‚                               (In-Memory + Future DB)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”— STACK TECHNOLOGIQUE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Frontend:   React 19.1.1 + TypeScript + Vite + TailwindCSS + Socket.IO Client
Backend:    Node.js + Express + TypeScript + Socket.IO + LiveKit Server SDK
Database:   En dÃ©veloppement (PostgreSQL prÃ©vu)
Real-time:  Socket.IO (coordination) + LiveKit (vidÃ©o/audio)

ğŸ“‚ STRUCTURE DÃ‰TAILLÃ‰E DU PROJET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ SpeakFlow/
â”œâ”€â”€ ğŸ“‹ package.json                    â† DÃ©pendances globales (dotenv)
â”œâ”€â”€ ğŸ“„ README.md                       â† Documentation
â”œâ”€â”€ ğŸ“„ ARCHITECTURE                    â† Ce fichier
â”œâ”€â”€ ğŸ§ª test.js                         â† Tests LiveKit
â”œâ”€â”€ ğŸš« .gitignore                      â† Exclusions Git
â”‚
â”œâ”€â”€ ğŸ“ backend/                        ğŸ”§ SERVEUR NODE.JS + TYPESCRIPT
â”‚   â”œâ”€â”€ ğŸ“‹ package.json                â† Scripts: dev, start + dÃ©pendances
â”‚   â”œâ”€â”€ âš™ï¸ tsconfig.json               â† Config TypeScript (Node.js)
â”‚   â”œâ”€â”€ ğŸ§ª jest.config.js              â† Config tests Jest
â”‚   â”œâ”€â”€ ğŸ” .env                        â† Secrets LiveKit (API keys)
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ src/                        ğŸ“¡ CODE SOURCE BACKEND
â”‚       â”œâ”€â”€ ğŸš€ server.ts               â† Point d'entrÃ©e (Express + Socket.IO)
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ controllers/            ğŸ® CONTRÃ”LEURS API REST
â”‚       â”‚   â””â”€â”€ ğŸ“„ queueController.ts  â† Logique queue (TODO: implement)
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ services/               ğŸ”§ LOGIQUE MÃ‰TIER
â”‚       â”‚   â”œâ”€â”€ ğŸ¯ queueService.ts     â† âœ… Algorithme de queue (COMPLET)
â”‚       â”‚   â””â”€â”€ ğŸ—ƒï¸ databaseService.ts  â† Interface DB (TODO: implement)
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ socket/                 ğŸ“¡ HANDLERS WEBSOCKET
â”‚       â”‚   â””â”€â”€ ğŸ“„ handlers.ts         â† âœ… join_room, LiveKit tokens (COMPLET)
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“ routes/                 ğŸ›£ï¸ ROUTES API REST (TODO)
â”‚       â”œâ”€â”€ ğŸ“ middleware/             ğŸ›¡ï¸ MIDDLEWARES (TODO)
â”‚       â”œâ”€â”€ ğŸ“ models/                 ğŸ“Š MODÃˆLES DE DONNÃ‰ES (TODO)
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“ database/               ğŸ—ƒï¸ BASE DE DONNÃ‰ES (PLANIFIÃ‰)
â”‚           â”œâ”€â”€ ğŸ“ implementations/    
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ memoryService.ts    â† Implementation temporaire
â”‚           â”‚   â””â”€â”€ ğŸ“„ postgreService.ts   â† Implementation PostgreSQL
â”‚           â”œâ”€â”€ ğŸ“„ schema.sql          â† SchÃ©ma des tables (TODO)
â”‚           â”œâ”€â”€ ğŸ“ migrations/         â† Ã‰volutions schÃ©ma (TODO)
â”‚           â””â”€â”€ ğŸ“„ seeds.sql           â† DonnÃ©es de test (TODO)
â”‚
â”œâ”€â”€ ğŸ“ frontend/                       ğŸ‘¥ APPLICATION REACT + TYPESCRIPT
â”‚   â”œâ”€â”€ ğŸ“‹ package.json                â† Scripts Vite + dÃ©pendances React
â”‚   â”œâ”€â”€ âš™ï¸ tsconfig.json               â† Config TypeScript principale
â”‚   â”œâ”€â”€ âš™ï¸ tsconfig.app.json           â† Config TypeScript app
â”‚   â”œâ”€â”€ âš™ï¸ tsconfig.node.json          â† Config TypeScript outils
â”‚   â”œâ”€â”€ âš™ï¸ vite.config.ts              â† Config Vite + React plugin
â”‚   â”œâ”€â”€ âš™ï¸ eslint.config.js            â† Config ESLint + TypeScript
â”‚   â”œâ”€â”€ ğŸŒ index.html                  â† Page HTML principale
â”‚   â”œâ”€â”€ ğŸš« .gitignore                  â† Exclusions Git frontend
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ public/                     ğŸ“‚ ASSETS STATIQUES
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ src/                        ğŸ’» CODE SOURCE FRONTEND
â”‚       â”œâ”€â”€ ğŸš€ main.tsx                â† Point d'entrÃ©e React
â”‚       â”œâ”€â”€ ğŸ“± App.tsx                 â† âœ… Composant principal + Socket.IO test
â”‚       â”œâ”€â”€ ğŸ¨ App.css                 â† Styles composant App
â”‚       â”œâ”€â”€ ğŸ¨ index.css               â† Styles globaux
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“ assets/                 ğŸ–¼ï¸ RESSOURCES (images, icons...)
â”‚
â””â”€â”€ ğŸ“ node_modules/                   ğŸ“¦ DÃ‰PENDANCES RACINE

ğŸ”„ FLUX DE DONNÃ‰ES ACTUEL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1ï¸âƒ£ CONNEXION CLIENT
   Frontend (React) â†’ Socket.IO Client â†’ Backend (Express + Socket.IO)

2ï¸âƒ£ JOINTURE ROOM
   Client: socket.emit('join_room', {room, identity})
   â†“
   Backend: handlers.ts â†’ createToken() â†’ LiveKit AccessToken
   â†“
   Response: socket.emit('room_joined', {token, room, livekitUrl})

3ï¸âƒ£ GESTION QUEUE (ImplÃ©mentÃ©e)
   queueService.ts fournit:
   â€¢ addToQueue(user) â†’ position
   â€¢ removeFromQueue(sid, room) â†’ user supprimÃ©
   â€¢ getNextInQueue(room) â†’ prochain utilisateur
   â€¢ popFromQueue(room) â†’ retire et retourne premier

4ï¸âƒ£ COMMUNICATION TEMPS RÃ‰EL
   Socket.IO (coordination) + LiveKit (media streaming)

ğŸ“Š Ã‰TAT D'AVANCEMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… FONCTIONNEL
â€¢ Serveur Express + Socket.IO
â€¢ Client React + Socket.IO
â€¢ IntÃ©gration LiveKit (tokens, rooms)
â€¢ Algorithme de queue complet
â€¢ Communication WebSocket basique

ğŸ”„ EN DÃ‰VELOPPEMENT
â€¢ Interface utilisateur avancÃ©e
â€¢ API REST controllers
â€¢ IntÃ©gration queue â†” socket handlers

ğŸ“ TODO / PLANIFIÃ‰
â€¢ Base de donnÃ©es PostgreSQL
â€¢ SystÃ¨me d'authentification
â€¢ Middlewares de sÃ©curitÃ©
â€¢ Models de donnÃ©es
â€¢ Migrations DB
â€¢ Tests unitaires complets
â€¢ Interface queue management UI

ğŸ”§ TECHNOLOGIES UTILISÃ‰ES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Backend Dependencies:
â€¢ express ^5.1.0                  â† Serveur web
â€¢ socket.io ^4.8.1               â† WebSocket communication
â€¢ livekit-server-sdk ^2.13.3     â† GÃ©nÃ©ration tokens LiveKit
â€¢ @types/* (TypeScript types)

Frontend Dependencies:
â€¢ react ^19.1.1                  â† Framework UI
â€¢ socket.io-client ^4.8.1        â† Client WebSocket
â€¢ livekit-client ^2.15.7         â† Client mÃ©dia temps rÃ©el
â€¢ vite ^7.1.7                    â† Build tool
â€¢ tailwindcss ^4.1.13           â† Framework CSS
â€¢ typescript ~5.8.3             â† Langage typÃ©

ğŸ¯ PROCHAINES Ã‰TAPES RECOMMANDÃ‰ES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Connecter queueService aux socket handlers
2. ImplÃ©menter les controllers REST
3. CrÃ©er l'interface utilisateur pour la queue
4. Ajouter la persistance des donnÃ©es (PostgreSQL)
5. Tests d'intÃ©gration complets
